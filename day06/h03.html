<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>实现表格的DOM操作</title>
	</head>

	<body>
		<span>商品名称:</span><input type="text" id="name">
		<span>数量:</span><input type="text" id="number">
		<span>单价:</span><input type="text" id="price">
		<button onclick="add()">添加</button>
		<br><br>
		<table border="1" cellpadding="0" cellspacing="0" width="400px" id="table">
			<thead>
				<tr>
					<th><input type="checkbox" id="selectAll" onclick="selectAll()">全选</th>
					<th>商品名称</th>
					<th>数量</th>
					<th>单价</th>
					<th>金额</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody align="center" id="tbody">
				<tr>
					<td><input type="checkbox"></td>
					<td>荷叶飘香</td>
					<td>10</td>
					<td>5.5</td>
					<td>55</td>
					<td><button onclick="del(this)">删除</button></td>
				</tr>
			</tbody>
		</table>

		<script>
			
			
			function add() {
				//获取输入框的属性
				var name = document.getElementById("name").value;
				var count = parseInt(document.getElementById("number").value);
				var price = parseInt(document.getElementById("price").value);
				console.log(name);
				console.log(count);
				console.log(price);
				//获取tbody对象
				var tbody = document.getElementById("tbody")
				//创建tr元素
				var tr = document.createElement("tr");

				//td元素
				var td1 = document.createElement("td");
				var td2 = document.createElement("td");
				var td3 = document.createElement("td");
				var td4 = document.createElement("td");
				var td5 = document.createElement("td");
				var td6 = document.createElement("td");

				//设置每个td元素的属性值
				td1.innerHTML = '<input type="checkbox">';
				td2.innerText = name;
				td3.innerText = count;
				td4.innerText = price;
				td5.innerText = count * price;
				td6.innerHTML = '<button onclick="del(this)">删除</button>';

				//向tr中添加td元素
				tr.appendChild(td1);
				tr.appendChild(td2);
				tr.appendChild(td3);
				tr.appendChild(td4);
				tr.appendChild(td5);
				tr.appendChild(td6);

				//向tbody中添加tr
				tbody.appendChild(tr);
			}

			function del(e) {
				e.parentElement.parentElement.remove();
			}

			function selectAll() {
				//获取表格中所有的input标签
				var list = document.getElementById("table").getElementsByTagName("input");
				//遍历,如果没选中的全部选中
				if(list[0].checked == true) {
					for(var i = 1; i < list.length; i++) {
						if(list[i].checked == false) {
							list[i].checked = true;
						}
					}
				}else{
					for(var i = 1; i < list.length; i++) {
						if(list[i].checked == true) {
							list[i].checked = false;
						}
					}
				}

			}
		</script>
	</body>

</html>